(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const v=async()=>{const e="https://benjbailey.com/gc-building/data.json";try{return await(await fetch(e)).json()}catch(t){return console.error(t),{}}};document.documentElement.setAttribute("data-theme","light");const y=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),g=e=>e>=1e6?`$${Math.round(e/1e6)}M`:y.format(Math.round(e)),h=document.getElementById("progress-completed"),l=document.getElementById("test-progress"),m=document.querySelectorAll(".giving-amounts button"),d=document.querySelector(".giving-selection"),i=document.querySelector(".other-amount"),a=document.querySelector("#giving-form #give-button"),f=()=>{const e=d.value,t=new URL(a.getAttribute("href")),n=new URLSearchParams(t.search);n.set("default_amount",e),t.search=n.toString(),a.setAttribute("href",t.toString())};m.forEach(e=>e.addEventListener("click",t=>{const n=t.target.value;d.value=n=="other"?i.value:n,m.forEach(s=>s.classList.remove("selected-amount")),e.classList.add("selected-amount"),n=="other"?(i.removeAttribute("disabled"),i.focus(),a.innerHTML=i.value!=""?`Give $${i.value}`:"Give"):(i.setAttribute("disabled","disabled"),a.innerText=`Give $${n}`),f()}));i.addEventListener("keyup",e=>{a.innerText=`Give $${e.target.value}`,d.value=e.target.value,f()});const p=({goal:e,raised:t})=>{const n=document.getElementById("tracking-progress"),s=document.getElementById("tracking-total");n&&(n.innerText=g(t/100)),s&&(s.innerText=g(e/100)),h.style.setProperty("height",`${t/e*100}%`)};let c={};l&&l.addEventListener("input",function(){const e=Number.parseInt(l.value,10)||0;p({raised:e*100,goal:c.data.attributes.goal_cents})});window.addEventListener("DOMContentLoaded",async()=>{c=await v(),p({goal:c.data.attributes.goal_cents,raised:c.data.attributes.received_total_from_pledges_cents+c.data.attributes.received_total_outside_of_pledges_cents})});
